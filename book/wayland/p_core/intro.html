<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>The Core protocol - The rusty wayland handbook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="../../">

        <link rel="stylesheet" href="book.css">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

        <!-- MathJax -->
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li class="affix"><a href="./intro.html">Introduction</a></li><li><a href="./wayland/intro.html"><strong>1.</strong> Wayland generalities</a></li><li><ul class="section"><li><a href="./wayland/structure.html"><strong>1.1.</strong> Protocol structure</a></li><li><a href="./wayland/p_core/intro.html" class="active"><strong>1.2.</strong> The Core protocol</a></li><li><ul class="section"><li><a href="./wayland/p_core/special.html"><strong>1.2.1.</strong> Special objects</a></li><li><a href="./wayland/p_core/compositor.html"><strong>1.2.2.</strong> The Compositor</a></li><li><a href="./wayland/p_core/shm.html"><strong>1.2.3.</strong> The SHM</a></li><li><a href="./wayland/p_core/shell.html"><strong>1.2.4.</strong> The Shell</a></li><li><a href="./wayland/p_core/subcompositor.html"><strong>1.2.5.</strong> The Subcompositor</a></li><li><a href="./wayland/p_core/seat.html"><strong>1.2.6.</strong> The Seats</a></li><li><a href="./wayland/p_core/output.html"><strong>1.2.7.</strong> The Outputs</a></li><li><a href="./wayland/p_core/data_device.html"><strong>1.2.8.</strong> The Data Device Manager</a></li></ul></li></ul></li><li><a href="./client/intro.html"><strong>2.</strong> Writing client apps</a></li><li><a href="./server/intro.html"><strong>3.</strong> Writing compositors</a></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title">The rusty wayland handbook</h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                <div id="content" class="content">
                    <a class="header" href="./wayland/p_core/intro.html#the-core-protocol" name="the-core-protocol"><h1>The Core protocol</h1></a>
<p>As described in the previous section, the object hierarchy starts with the <code>wl_display</code>, then
the <code>wl_registry</code>, and then come all the globals from the various protocols in use.</p>
<p>The core wayland distribution comes with <a href="https://cgit.freedesktop.org/wayland/wayland/tree/protocol/wayland.xml">the core protocol specification</a>. It
contains the <code>wl_display</code> and <code>wl_registry</code> objects<sup class="footnote-reference"><a href="./wayland/p_core/intro.html#1">1</a></sup>, as well as some globals that are considered
the common ground that all applications will need. Any fancier functionality is supposed to be
developed in protocol extensions.</p>
<p>This chapter will describe the globals (and their objects hierarchies) from this core protocol. This
is not a complete detailed guide of all requests and events<sup class="footnote-reference"><a href="./wayland/p_core/intro.html#2">2</a></sup>, but a general description of how
they are used and interact with each other. It should be enought to properly get started with the
protocol</p>
<p><br /><br /></p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Even if <code>wl_display</code> and <code>wl_registry</code> are very special objects and kind of above all
protocols, they are still specified in the core protocol file. But their API is completely set in
stone and locked to version 1, while the rest of the core protocol can still backward-compatibly
evolve.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Each of them is already detailed in the <a href="http://vberger.github.io/wayland-rs/wayland_client/protocol/index.html">API docs of wayland-client</a>, and there's
no point copy-pasting all of it here.</p>
</div>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a href="./wayland/structure.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="./wayland/p_core/special.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="./wayland/structure.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="./wayland/p_core/special.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
