<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Special objects - The rusty wayland handbook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="../../">

        <link rel="stylesheet" href="book.css">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

        <!-- MathJax -->
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body class="light">
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li class="affix"><a href="./intro.html">Introduction</a></li><li><a href="./wayland/intro.html"><strong>1.</strong> Wayland generalities</a></li><li><ul class="section"><li><a href="./wayland/structure.html"><strong>1.1.</strong> Protocol structure</a></li><li><a href="./wayland/p_core/intro.html"><strong>1.2.</strong> The Core protocol</a></li><li><ul class="section"><li><a href="./wayland/p_core/special.html" class="active"><strong>1.2.1.</strong> Special objects</a></li><li><a href="./wayland/p_core/compositor.html"><strong>1.2.2.</strong> The Compositor</a></li><li><a href="./wayland/p_core/shm.html"><strong>1.2.3.</strong> The SHM</a></li><li><a href="./wayland/p_core/shell.html"><strong>1.2.4.</strong> The Shell</a></li><li><a href="./wayland/p_core/subcompositor.html"><strong>1.2.5.</strong> The Subcompositor</a></li><li><a href="./wayland/p_core/seat.html"><strong>1.2.6.</strong> The Seats</a></li><li><a href="./wayland/p_core/output.html"><strong>1.2.7.</strong> The Outputs</a></li><li><a href="./wayland/p_core/data_device.html"><strong>1.2.8.</strong> The Data Device Manager</a></li></ul></li></ul></li><li><a href="./client/intro.html"><strong>2.</strong> Writing client apps</a></li><li><a href="./server/intro.html"><strong>3.</strong> Writing compositors</a></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title">The rusty wayland handbook</h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                <div id="content" class="content">
                    <a class="header" href="./wayland/p_core/special.html#special-objects" name="special-objects"><h1>Special objects</h1></a>
<p>Some objects of this protocol are special, and don't belong in the hierarchy of a global.</p>
<p>You already know two of them: <code>wl_display</code> and <code>wl_registry</code>.</p>
<a class="header" href="./wayland/p_core/special.html#the-display" name="the-display"><h2>The Display</h2></a>
<p>The <code>wl_display</code> represents the connection from a client to the compositor. It is automatically
created upon creation of the connection, and can be used by the client to create the <code>wl_registry</code>
and manage the dispatching of events.</p>
<p>It also receives any protocol error generated by the client, allowing a diagnostic of what happened
(but not recovery from it).</p>
<a class="header" href="./wayland/p_core/special.html#the-registry" name="the-registry"><h2>The Registry</h2></a>
<p>The <code>wl_registry</code> is the gate to all other globals. Upon creation, it receives as events the list of
all existing globals, as well as notification during the whole life of the client whenever a new
global is created or destroyed.</p>
<p>The client can instantiate the registry several times. In this case, each instance will be notified
of all globals.</p>
<a class="header" href="./wayland/p_core/special.html#the-callback" name="the-callback"><h2>The Callback</h2></a>
<p>The <code>wl_callback</code> object is created whevener a client asks the compositor to do something and
requires to be notified when it is done. The callback object has no requests and a single event:
<code>wl_callback::done</code>, which is called exactly once, when the task is finished.</p>
<p>For example, the request <code>wl_display::sync</code> requires the composior to fire the callback just when it
processed the request. It must process the requests in the same order as it receives them, which
guarantees that all pending requests sent before this sync have been processed.</p>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a href="./wayland/p_core/intro.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="./wayland/p_core/compositor.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="./wayland/p_core/intro.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="./wayland/p_core/compositor.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <!-- Livereload script (if served using the cli tool) -->
        

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
